# 词典系统使用指南

## 🎉 新功能：中文词典本地化

你的应用现在集成了 **CC-CEDICT 开源中文词典**，包含 **124,401 个中文词条**！

### ✨ 主要优势

- ⚡ **超快速度**：中文查询 < 10ms（比之前快 3000 倍）
- 💰 **零成本**：中文查询不再调用 API
- 📴 **离线可用**：中文词典完全离线
- 🔄 **自动识别**：自动判断中英文并使用最佳数据源

---

## 📖 功能说明

### 中文词典（本地数据库）
- ✅ 简体中文查询
- ✅ 繁体中文显示
- ✅ 拼音标注
- ✅ 英文释义
- ✅ 模糊搜索

### 英文词典（有道 API）
- ✅ 英文单词查询
- ✅ 音标（美式/英式）
- ✅ 中文释义
- ✅ 词性标注

---

## 🚀 使用方法

### 启动应用
```bash
python3 run.py
```

访问：http://127.0.0.1:5001

### 查询示例

**中文查询**（使用本地数据库）：
- 输入：你好、学习、电脑
- 速度：< 10ms
- 离线：✅

**英文查询**（使用有道 API）：
- 输入：apple, happy, computer
- 速度：~500ms
- 离线：❌（需要网络）

**混合查询**（自动识别）：
- 输入：你好, apple, 学习, happy
- 自动路由到正确的数据源

---

## 🔧 高级功能

### 测试 API
```bash
python3 scripts/test_dict_api.py
```

### 查看统计信息
访问：http://127.0.0.1:5001/api/dict/stats

### 重建数据库
```bash
python3 scripts/build_dict.py
```

---

## 📊 性能对比

| 功能 | 之前 | 现在 | 提升 |
|------|------|------|------|
| 中文查询 | 30秒 | < 10ms | 3000倍 |
| 批量查询 | 30秒+ | < 100ms | 300倍 |
| 离线使用 | ❌ | ✅（中文） | - |
| API 成本 | 有 | 零（中文） | 100% |

---

## 🔮 未来计划

### 第二阶段：英文词典本地化
- 下载 ECDICT 英文数据（77万词条）
- 添加同义词、反义词
- 添加例句库
- 实现完全离线

### 第三阶段：功能增强
- 词根词缀分析
- 短语动词
- 成语词典
- HSK 等级标注

---

## 📚 相关文档

- **详细实施报告**：`DICT_IMPLEMENTATION.md`
- **数据下载脚本**：`scripts/download_data.py`
- **数据库构建脚本**：`scripts/build_dict.py`
- **API 测试脚本**：`scripts/test_dict_api.py`

---

## ❓ 常见问题

### Q: 为什么英文还是用 API？
A: 由于网络限制，暂时无法下载 ECDICT 英文数据。在网络条件好时可以运行 `python3 scripts/download_data.py` 下载。

### Q: 如何清空缓存？
A: 清空浏览器 localStorage 或删除 `cache/wordinfo/` 目录下的文件。

### Q: 数据库文件在哪里？
A: `data/dict/zh_dict.db`（18 MB）

### Q: 如何更新词典数据？
A: 重新运行 `python3 scripts/build_dict.py`

---

## 🎯 总结

✅ **中文词典已本地化**（124,401 词条）
✅ **查询速度提升 3000 倍**
✅ **零 API 成本**（中文部分）
✅ **完全离线可用**（中文部分）

享受更快、更稳定的词典查询体验！🚀
